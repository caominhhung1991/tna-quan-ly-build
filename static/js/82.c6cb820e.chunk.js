(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[82],{1120:function(t,n,e){"use strict";e.r(n);var a=e(0),i=e.n(a),o=e(48),c=e(202),d=e(417),s=e(201),r=e(415),l=e(158),u=e(272),h=e(6),b={khoId:{id:"khoId",name:"khoId"},tenKho:{id:"tenKho",name:"T\xean kho",width:100,className:"text-small font-weight-bold",form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},diaChiKho:{id:"diaChiKho",name:"\u0110\u1ecba ch\u1ec9",width:150,className:"text-small",form:{type:"input"}},getTableColumns:function(){return[]},getInputFields:function(){return[]}},f={getTableColumns:function(){return[h.constants.stt,b.tenKho,b.diaChiKho,h.constants.active,h.constants.editRow]},getInputFields:function(){return[b.tenKho,b.diaChiKho]},getExcelFields:function(){return[h.constants.stt,b.tenKho,b.diaChiKho,h.constants.active]}},p=e(416),m=e(3),v=e.n(m),O=e(9),j=e(271),g=e(504),K=e(463),I=e(35),S=e(17),k=l.d.danhSachKhoModal;var x=function(t){var n,e,a=t.onAfterAddFinish,c=Object(o.b)(),d=Object(o.c)((function(t){return t.form})),r=d.modal,l=d.datas,u=Object(o.c)((function(t){return t.account})).accountData,b=null===u||void 0===u||null===(n=u.paths)||void 0===n||null===(e=n.danhSachKho)||void 0===e?void 0:e.edit,p=Object(j.a)({Instance:g.a,onPending:K.d,addSelectedId:K.a,isEdit:b}),m=i.a.useMemo((function(){var t;return!!(null===r||void 0===r||null===(t=r[k])||void 0===t?void 0:t.open)}),[r[k]]);function x(){return(x=Object(O.a)(v.a.mark((function t(n,e){var i,o,d;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b){t.next=2;break}return t.abrupt("return",Object(I.h)());case 2:if(i=!0,o=Object(h.convertMomentToString)(f.getInputFields(),e),!e){t.next=18;break}if(null===n||void 0===n?void 0:n.id){t.next=13;break}return t.next=8,c(p.onAddAsync({validatedValues:o}));case 8:i=t.sent,null===a||void 0===a||a(null===(d=i)||void 0===d?void 0:d.id),i=Boolean(i),t.next=18;break;case 13:return t.t0=Boolean,t.next=16,c(p.onUpdateAsync({currentData:n,validatedValues:o}));case 16:t.t1=t.sent,i=(0,t.t0)(t.t1);case 18:i&&c(s.a({modalId:k}));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(S.b)(h.MyModal,{form:!0,title:Object(S.b)("div",{children:"Kho"}),visible:m,onClose:function(){c(s.a({modalId:k}))},onOkModal:function(t,n){return x.apply(this,arguments)},formOptions:Object(h.getFormItemFields)(f.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:k,datas:l})},C=e(15),w=l.d.danhSachKhoModal;n.default=function(){var t,n,e=Object(o.b)(),a=Object(o.c)((function(t){return t.danhSachKho})),l=a.tabsData,h=a.loading,b=a.pageSize,m=a.danhSachKhos,v=Object(o.c)((function(t){var n;return null===(n=t.tagsPage)||void 0===n?void 0:n[w]})),O=Object(o.c)((function(t){return t.account})).accountData,k=null===O||void 0===O||null===(t=O.paths)||void 0===t||null===(n=t.danhSachKho)||void 0===n?void 0:n.edit,y=Object(j.a)({Instance:g.a,onPending:K.d,addSelectedId:K.a,isEdit:k});return i.a.useEffect((function(){return e(Object(K.c)()),function(){Object(C.l)("danhSachKho")}}),[]),Object(S.c)("div",{className:"danhSachKho-page",css:u.a,children:[Object(S.b)(r.b,{className:"tabs",options:l,activeKey:v?"aside":"",onTabClick:function(t){if("add"===t&&k){if(!k)return Object(I.h)();var n=new g.a;e(Object(s.c)({modalId:w,data:n.initData}))}else"aside"===t?e(Object(d.b)({tagPageId:w})):"taiExcel"===t&&e(Object(c.b)({tableId:w,constants:f,fileSheet:"danhSachKhoSheet",fileName:"danhSachKhoName"}))}}),Object(S.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(S.b)("div",{className:"aside-main",children:Object(S.b)(p.a,{isEdit:k,constants:f,actions:y,datas:m,loading:h,modalId:w,expandable:{expandedRowRender:function(t){return Object(S.b)("div",{children:t.id})},expandRowByClick:!1},isSelection:!1,pagination:!0,pageSize:b,onChange:function(t){e(Object(K.e)(t.pageSize))},onRow:function(t){return{onClick:function(){k&&e(Object(s.c)({modalId:w,data:t}))}}}})})}),Object(S.b)(x,{})]})}}}]);