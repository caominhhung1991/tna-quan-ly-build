(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[49],{1109:function(e,t,n){"use strict";n.r(t);var a=n(33),i=n(0),o=n.n(i),c=n(48),s=n(272),d=n(416),l=n(3),u=n.n(l),r=n(9),h=n(6),g=n(559),b=n(35),m=n(17);var p=function(e){var t=e.isEdit,n=e.modalId,i=e.onAfterAddFinish,s=e.layoutChungConstants,d=e.actions,l=Object(c.b)(),p=Object(c.c)((function(e){return e.form})),C=p.modal,f=p.datas,O=o.a.useMemo((function(){var e;return!!(null===C||void 0===C||null===(e=C[n])||void 0===e?void 0:e.open)}),[C[n]]),v=g.a.useForm(),j=Object(a.a)(v,1)[0],N=null===f||void 0===f?void 0:f[n];return o.a.useEffect((function(){O?O&&N&&j.setFieldsValue(N):j.resetFields()}),[O,N]),Object(m.b)(h.MyModal,{form:!0,title:Object(m.b)("div",{children:"B\u1ea3ng ch\u1ec9nh s\u1eeda th\xf4ng tin"}),visible:O,onClose:function(){l(Object(h.closeModal)({modalId:n}))},onOkModal:function(e,a){if(!t)return Object(b.h)();l(Object(h.onConfirmOk)(Object(r.a)(u.a.mark((function t(){var o,c,r,g,b;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=!0,c=Object(h.convertMomentToString)(s.getInputFields(),a),!a){t.next=17;break}if(null===e||void 0===e?void 0:e.id){t.next=12;break}return console.log(c,"convertedData"),t.next=7,l(null===d||void 0===d||null===(r=d.onAddAsync)||void 0===r?void 0:r.call(d,{validatedValues:c}));case 7:o=t.sent,null===i||void 0===i||i(null===(g=o)||void 0===g?void 0:g.id,o),o=Boolean(o),t.next=17;break;case 12:return t.t0=Boolean,t.next=15,l(null===d||void 0===d||null===(b=d.onUpdateAsync)||void 0===b?void 0:b.call(d,{currentData:e,validatedValues:c}));case 15:t.t1=t.sent,o=(0,t.t0)(t.t1);case 17:o&&l(Object(h.closeModal)({modalId:n}));case 18:case"end":return t.stop()}}),t)})))))},formOptions:Object(h.getFormItemFields)(s.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:n,datas:f})},C=n(506),f=n(21),O=n(415),v=n(59);var j=function(e){var t,n=e.isEdit,a=e.isMoRong,i=e.modalId,s=e.layoutChungConstants,d=e.dateTimePicker,l=e.isImportExcel,u=e.noAddItem,r=Object(c.b)(),g=Object(c.c)((function(e){return e.layoutChung})).tabsData,p=Object(c.c)((function(e){var t;return null===(t=e.tagsPage)||void 0===t?void 0:t[i]}));function C(){r(Object(h.openModal)({modalId:i}))}function j(e){"F1"===e.key&&C()}o.a.useEffect((function(){return document.addEventListener("keydown",j,!1),function(){document.removeEventListener("keydown",j)}}),[]);var N={value:"selectedTime",label:null===d||void 0===d||null===(t=d.getMonthRender)||void 0===t?void 0:t.call(d)},y=[].concat(Object(f.a)(a?[h.constantTabs.moRong]:[]),Object(f.a)(d?[N]:[]),Object(f.a)(u?[]:[{label:"Th\xeam m\u1edbi (F1)",value:"add",Icon:v.a}]),Object(f.a)(g),Object(f.a)(l?[h.constantTabs.importExcel]:[]));return Object(m.b)(O.b,{className:"tabs",options:y,activeKey:p?"aside":"",onTabClick:function(e){if("add"===e){if(!n)return Object(b.h)();C()}else"aside"===e?r(Object(h.toggleAside)({tagPageId:i})):"taiExcel"===e?r(Object(h.downloadExcel)({tableId:i,constants:s,fileSheet:"layoutChungSheet",fileName:"layoutChungName"})):"import-excel"===e&&r(Object(h.openModal)({modalId:i+"_IMPORT"}))}})},N=function(e){var t=e.layoutChungConstants,n=e.isEdit,a=e.modalId,i=e.actions,o=e.Modal,l=e.isImportExcel,u=e.noAddItem,r=e.dateTimePicker,g=e.onFinishCapNhatDuLieu,b=Object(c.b)(),f=Object(c.c)((function(e){return e.layoutChung})),O=f.layoutChungLoading,v=f.pageSize,N=f.layoutChungs;return Object(m.c)("div",{className:"layoutChung-page",css:s.a,children:[Object(m.b)(j,{modalId:a,isEdit:n,layoutChungConstants:t,isImportExcel:l,dateTimePicker:r,noAddItem:u}),Object(m.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(m.b)("div",{className:"aside-main",children:Object(m.b)(d.a,{isEdit:n,constants:t,actions:i,datas:N,loading:O,modalId:a,expandable:{expandedRowRender:function(e){return Object(m.b)("div",{children:e.id})},expandRowByClick:!1},isSelection:!1,pagination:!0,pageSize:v,onChange:function(e){b(Object(C.c)(e.pageSize))}})})}),o?Object(m.b)(o,{}):Object(m.b)(p,{isEdit:n,modalId:a,layoutChungConstants:t,actions:i}),l?Object(m.b)(h.ImportExcelModal,{modalId:a+"_IMPORT",onFinishCapNhatDuLieu:function(e){return null===g||void 0===g?void 0:g(e)}}):null]})},y=n(825),I={getTableColumns:function(){return[h.constants.stt,y.a.tenNhaCungCap]},getInputFields:function(){return[y.a.tenNhaCungCap]},getExcelFields:function(){return[h.constants.active]}},x=n(419),w=n(10),D=n(19),T=n(20),k=function(e){Object(D.a)(n,e);var t=Object(T.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).pathDatas=["quanLyBaoCao","congNoNhaCungCap","datas"],e.pathDeleted=["quanLyBaoCao","congNoNhaCungCap","deleted"],e.initData={},e}return n}(h.AppClass),E=n(158),F=n(502),H=E.e.congNoNhaCungCap,M=E.d.congNoNhaCungCapModal;t.default=function(e){var t,n,i=Object(c.b)(),s=Object(h.useDatePicker)(),d=Object(a.a)(s,2),l=d[0],u=d[1],r=Object(c.c)((function(e){return e.account})).accountData,g=Object(c.c)((function(e){return e.nhaCungCap})).nhaCungCaps,b=null===r||void 0===r||null===(t=r.paths)||void 0===t||null===(n=t.congNoNhaCungCap)||void 0===n?void 0:n.edit,p=Object(x.a)({Instance:k,onPending:C.b,isEdit:b});return o.a.useEffect((function(){i(Object(F.b)(l))}),[l,g]),Object(m.b)(N,{pageId:H,modalId:M,layoutChungConstants:I,isEdit:b,actions:p,dateTimePicker:u,noAddItem:!0})}},825:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(8),i=n(6),o=n(178),c=n(146),s={nhaCungCapId:{id:"nhaCungCapId",name:"M\xe3 NCC"},tenNhaCungCap:{id:"tenNhaCungCap",name:"T\xean NCC",width:150,isSearch:!0,className:"text-small font-weight-bold",sorter:Object(i.sortByText)("tenNhaCungCap"),form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},nganhNgheKinhDoanh:{id:"nganhNgheKinhDoanh",name:"Ng\xe0nh ngh\u1ec1 KD",width:130,className:"text-small ",isSearch:!0,form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},diaChiNhaCungCap:{id:"diaChiNhaCungCap",name:"\u0110\u1ecba ch\u1ec9",width:140,className:"text-small ",isSearch:!0,form:{type:"text-area"}},nguoiLienHe:{id:"nguoiLienHe",name:"Ng\u01b0\u1eddi li\xean h\u1ec7",width:100,className:"text-small ",form:{type:"input"}},soDienThoai:{id:"soDienThoai",name:"S\u1ed1 \u0110T",width:100,className:"text-small ",align:"center",form:{type:"input"}},ngayKyHopDong:{id:"ngayKyHopDong",name:"Ng\xe0y k\xfd",width:100,className:"text-small",align:"center",form:{type:"date-picker"}},ngayHetHanHopDong:{id:"ngayHetHanHopDong",name:"Ng\xe0y h\u1ebft h\u1ea1n",width:100,className:"text-small",align:"center",form:{type:"date-picker"}},ngayGiaHanHopDong:{id:"ngayGiaHanHopDong",name:"Ng\xe0y gia h\u1ea1n",width:100,className:"text-small",align:"center",form:{type:"date-picker"}},getTableColumns:function(){return[i.constants.stt,Object(a.a)(Object(a.a)({},this.tenNhaCungCap),{},{fixed:!0,width:180}),Object(a.a)(Object(a.a)({},this.nganhNgheKinhDoanh),{},{width:200}),Object(a.a)(Object(a.a)({},o.a.tenNhomNguyenLieu),{},{width:230}),Object(a.a)(Object(a.a)({},c.a.tenDiaDiem),{},{width:140}),Object(a.a)(Object(a.a)({},this.diaChiNhaCungCap),{},{width:180}),this.nguoiLienHe,this.soDienThoai,i.constants.active,i.constants.editRow]},getInputFields:function(){return[this.tenNhaCungCap,this.nganhNgheKinhDoanh,this.diaChiNhaCungCap,this.nguoiLienHe,this.soDienThoai]},getExcelFields:function(){return this.getTableColumns()},getFormViewFields:function(){var e=[this.tenNhaCungCap,this.nganhNgheKinhDoanh,this.diaChiNhaCungCap,this.nguoiLienHe,this.soDienThoai];return Object(i.getFormItemViewFields)(e)}}}}]);