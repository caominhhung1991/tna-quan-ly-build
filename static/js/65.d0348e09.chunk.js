(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[65],{1134:function(e,n,t){"use strict";t.r(n);var a=t(13),i=t(7),o=t(33),s=t(0),r=t.n(s),c=t(48),l=t(413),d=t(201),u=t(158),h=t(271),m=t(6),b=t(60),g={soBHXH:{id:"soBHXH",name:"S\u1ed1 BHXH",width:100,className:"text-small font-weight-bold",isSearch:!0,align:"center",form:{type:"input",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},benhVien:{id:"benhVien",name:"B\u1ec7nh vi\u1ec7n",width:100,align:"center",className:"text-small",form:{type:"text-area",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},luongCoBan:{id:"luongCoBan",name:"L\u01b0\u01a1ng c\u01a1 b\u1ea3n",align:"right",width:100,className:"text-small font-weight-bold",form:{type:"input-number-format",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]},render:m.numberRender},soHopDong:{id:"soHopDong",name:"S\u1ed1 h\u1ee3p \u0111\u1ed3ng",width:100,align:"center",className:"text-small",form:{type:"text-area"}},maSoThue:{id:"maSoThue",name:"M\xe3 s\u1ed1 thu\u1ebf",width:100,align:"center",className:"text-small",form:{type:"input"}},thangTang:{id:"thangTang",name:"Th\xe1ng t\u0103ng",width:100,align:"center",className:"text-small font-weight-bold",form:{type:"month-picker",rules:[{required:!0,message:"Ch\u01b0a nh\u1eadp"}]}},thangGiam:{id:"thangGiam",name:"Th\xe1ng gi\u1ea3m",width:100,align:"center",className:"text-small font-weight-bold",form:{type:"month-picker"}},ghiChu:{id:"ghiChu",name:"Ghi ch\xfa",width:100,align:"center",className:"text-small",form:{type:"text-area"}},getTableColumns:function(){return[m.constants.stt,Object(i.a)(Object(i.a)({},b.b.hoTen),{},{fixed:!0}),this.luongCoBan,this.soBHXH,this.benhVien,this.maSoThue,this.soHopDong,this.thangTang,m.constants.editRow,m.constants.active]},getInputFields:function(e){return[this.luongCoBan,this.soBHXH,this.benhVien,this.maSoThue,this.soHopDong,this.thangTang]},getFormViewFields:function(){var e=[this.soBHXH,this.benhVien,this.maSoThue,this.thangTang];return Object(m.getFormItemViewFields)(e)}},p=t(414),f=t(3),v=t.n(f),O=t(9),j=t(270),H=t(486),w=t(453),C=t(807),S=t(17),x=u.d.bHXHModal,T=function(e){var n=e.onAfterAddFinish,t=Object(j.a)({Instance:H.a,onPending:w.d,addSelectedId:w.a}),a=Object(c.b)(),i=Object(c.c)((function(e){return e.form})),o=i.modal,s=i.datas,l=r.a.useMemo((function(){var e;return!!(null===o||void 0===o||null===(e=o[x])||void 0===e?void 0:e.open)}),[o[x]]);function u(){return(u=Object(O.a)(v.a.mark((function e(i,o){var s,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=!0,r=Object(m.convertMomentToString)(g.getInputFields(),o),!o){e.next=16;break}if(i.id){e.next=11;break}return e.next=6,a(t.onAddAsync({validatedValues:r}));case 6:s=e.sent,null===n||void 0===n||n(null===(c=s)||void 0===c?void 0:c.id),s=Boolean(s),e.next=16;break;case 11:return e.t0=Boolean,e.next=14,a(t.onUpdateAsync({currentData:i,validatedValues:r}));case 14:e.t1=e.sent,s=(0,e.t0)(e.t1);case 16:s&&a(d.a({modalId:x}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(S.b)(m.MyModal,{form:!0,title:"B\u1ea3o Hi\u1ec3m X\xe3 H\u1ed9i",visible:l,onClose:function(e,n){return u.apply(this,arguments)},formOptions:Object(m.getFormItemFields)(g.getInputFields()),formProps:{labelCol:{span:8},wrapperCol:{span:16}},width:700,modalId:x,datas:s,children:Object(S.b)(C.a,{})})},y=u.d.bHXHModal;n.default=function(e){e.menu;var n=Object(c.b)(),t=Object(c.c)((function(e){return e.bHXH})),s=t.tabsData,u=t.loading,m=t.bHXHs,b=Object(c.c)((function(e){return e.nhanSu})).nhanSus,f=Object(c.c)((function(e){return e.cMND})).cMNDs,v=Object(j.a)({Instance:H.a,onPending:w.d,addSelectedId:w.a});var O=r.a.useMemo((function(){return m?Object.entries(m).reduce((function(e,n){var t=Object(o.a)(n,2),s=t[0],r=t[1],c=r.nhanSuId,l=(null===b||void 0===b?void 0:b[c])||{},d=l.cMNDId,u=(null===f||void 0===f?void 0:f[d||""])||{};return Object(i.a)(Object(i.a)({},e),{},Object(a.a)({},s,Object(i.a)(Object(i.a)({},r),{},{hoTen:null===u||void 0===u?void 0:u.hoTen,cMND:u,nhanSu:l})))}),{}):{}}),[m,b,f]);return Object(S.c)("div",{className:"bHXH-page",css:h.a,children:[Object(S.b)(l.b,{className:"tabs",options:s,activeKey:"all",onTabClick:function(e){if("add"===e){var t=new H.a;n(d.c({modalId:y,data:t.initData}))}}}),Object(S.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(S.b)("div",{className:"aside-main",children:Object(S.b)(p.a,{scroll:{x:1300},constants:g,actions:v,datas:O,loading:u,modalId:y,pagination:!0})})}),Object(S.b)(T,{})]})}},807:function(e,n,t){"use strict";var a=t(0),i=t.n(a),o=t(6),s=t(48),r=t(128),c=t(17);n.a=function(e){var n=e.form,t=e.mode,a=e.label,l=e.labelCol,d=e.wrapperCol,u=e.rules,h=Object(s.b)(),m=Object(s.c)((function(e){return e.nhanSu})).nhanSus,b=i.a.useMemo((function(){return Object.values(m).filter((function(e){return e.active})).map((function(e){var n="".concat(e.maNV," - ").concat(e.hoTen);return{value:e.id,label:n}}))}),[m]);var g=Object(c.b)(o.MyFormItem,{label:null!==a&&void 0!==a?a:"Nh\xe2n s\u1ef1",type:"select",name:"nhanSuId",innerProps:{mode:t,showSearch:!0,allowClear:!0,filterOption:o.onSelectSearch,onChange:function(e){h(Object(r.a)(e))}},options:b,rules:u||[]});return n?Object(c.b)(o.MyForm,{form:n,labelCol:l||{span:8},wrapperCol:d||{span:16},children:g}):g}}}]);