(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[62],{1136:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),c=t(127),o=t(48),r=t(415),s=t(201),l=t(128),u=t(69),d=t(60),b=t(6),h=t(83),m=t(133),f=t(134),g={getTableColumns:function(){return[b.constants.stt,d.b.maNV,d.b.hoTen,d.b.ngayVaoLam,d.b.soDienThoai,h.a.ngaySinh,h.a.gioiTinh,m.a.tenBoPhan,f.a.tenChucVu,b.constants.active]},getInputFields:function(){return[]}},p=t(202),O=t(158),j=t(272),y=t(271),v=t(416),N=t(3),V=t.n(N),w=t(9),I=t(13),M=t(8),S=t(33),T=t(32),C=t.n(T),F=t(523),x=t(521),D=t(177),L=t(843),k=t(17);var K=O.d.lamViecModal,R=function(e){var n=Object(o.b)(),t=Object(D.useForm)(),a=Object(S.a)(t,1)[0],c=Object(o.c)((function(e){return e.table})).selectedRows,r=Object(o.c)((function(e){return e.form})),h=r.modal,m=r.datas,f=r.type,g=i.a.useMemo((function(){var e;return!!(null===(e=h[K])||void 0===e?void 0:e.open)}),[h[K]]);i.a.useEffect((function(){if(g){var e=(c[K]||[]).reduce((function(e,n){var t=(null===n||void 0===n?void 0:n.ngayNghiViec)?C()(n.ngayNghiViec,"L"):C()();return Object(M.a)(Object(M.a)({},e),{},Object(I.a)({},n.id,Object(M.a)(Object(M.a)({},n),{},{ngayNghiViec:t})))}),{});a.setFieldsValue(e)}}),[K,c,g]);var O=i.a.useMemo((function(){return g?c[K]:[]}),[K,c,g]);function j(){return(j=Object(w.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(s.a({modalId:K}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(w.a)(V.a.mark((function e(){var t,i,c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validateFields();case 2:return t=e.sent,i=L.a.getInputFields(),c=Object.entries(t).reduce((function(e,n){var t=Object(S.a)(n,2),a=t[0],c=t[1],o=Object(b.convertMomentToString)(i,c),r="";switch(f){case d.a.NghiViec:r=u.b.Quit;break;case d.a.NghiKhongLuong:r=u.b.UnpaidLeave}return Object(M.a)(Object(M.a)({},e),{},Object(I.a)({},a,Object(M.a)(Object(M.a)({},o),{},{trangThaiNhanSuId:r})))}),{}),e.next=7,n(Object(l.q)(c,f));case 7:a.resetFields(),n(Object(p.d)({tableId:K,selectedRows:[],selectedRowKeys:[]})),n(s.a({modalId:K}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.b)(b.MyModal,{datas:m,css:E,title:"Danh S\xe1ch \u0110\xe3 Ch\u1ecdn",modalId:K,visible:g,onClose:function(){return j.apply(this,arguments)},onOkModal:function(){return y.apply(this,arguments)},width:"100%",children:Object(k.b)(b.MyForm,{form:a,labelCol:{span:8},wrapperCol:{span:16},children:O.map((function(e,n){return Object(k.c)("div",{style:{marginBottom:"10px"},children:[Object(k.b)(F.a,{children:Object(k.c)(x.a,{className:"font-weight-bold",style:{marginBottom:"5px"},span:16,offset:8,children:["S\u1ed1 th\u1ee9 t\u1ef1: ",n+1]})}),Object(k.b)(b.MyFormItem,{name:[e.id,"id"],type:"input",style:{display:"none"}}),Object(k.b)(b.MyFormItem,{name:[e.id,"hoTen"],label:"H\u1ecd t\xean",type:"input",innerProps:{disabled:!0}}),Object(k.b)(b.MyFormItem,{name:[e.id,"ngayNghiViec"],label:"Ng\xe0y ngh\u1ec9 vi\u1ec7c",type:"date-picker",required:!0}),Object(k.b)(b.MyFormItem,{name:[e.id,"lyDoNghiViec"],label:"L\xfd do ngh\u1ec9 vi\u1ec7c",type:"input",required:!0})]},e.id)}))})})},E={name:"y1h1q2",styles:".ant-form-item{margin-bottom:15px;}"},q=t(35),B=O.d.lamViecModal;n.default=function(){var e,n,t=Object(o.b)(),a=Object(o.c)((function(e){return e.table})),b=a.selectedRows,h=a.selectedRowKeys,m=Object(o.c)((function(e){return e.nhanSu})),f=m.loading,N=m.nhanSusWorking,V=m.pageSize,w=Object(o.c)((function(e){return e.cMND})).cMNDs,I=Object(o.c)((function(e){return e.account})).accountData,M=null===I||void 0===I||null===(e=I.paths)||void 0===e||null===(n=e.danhSachLamViec)||void 0===n?void 0:n.edit,S=Object(y.a)({Instance:u.a,onPending:l.n,addSelectedId:l.a,isEdit:M});i.a.useEffect((function(){t(Object(l.m)())}),[]);var T=i.a.useMemo((function(){return N?t(Object(l.c)(N)):{}}),[N,w]);return Object(k.c)("div",{className:"danh-sach-nhan-su-page",css:j.a,children:[Object(k.b)(r.b,{className:"tabs",options:d.f,activeKey:"all",onTabClick:function(e){if(e===d.a.NghiViec){var n;if(!M)return Object(q.h)();if(!(null===(n=b[B])||void 0===n?void 0:n.length))return c.b.error("Ch\u01b0a ch\u1ecdn d\u1eef li\u1ec7u!");if(!window.confirm("Are you sure?"))return null;t(s.c({modalId:O.d.lamViecModal,data:{},type:d.a.NghiViec}))}else if(e===d.a.NghiKhongLuong){var a;if(!M)return Object(q.h)();if(!(null===(a=b[B])||void 0===a?void 0:a.length))return c.b.error("Ch\u01b0a ch\u1ecdn d\u1eef li\u1ec7u!");if(!window.confirm("Are you sure?"))return null;t(s.c({modalId:O.d.lamViecModal,data:{},type:d.a.NghiKhongLuong}))}else e===d.a.TaiExcel&&t(Object(p.b)({tableId:B,constants:d.b,fileSheet:"datas",fileName:"Danh Sach Lam Viec"}))}}),Object(k.b)("div",{className:"tabs-main",style:{marginTop:"10px"},children:Object(k.b)("div",{className:"aside-main",children:Object(k.b)(v.a,{isEdit:M,scroll:{x:1200},constants:g,actions:S,datas:T,loading:f,modalId:B,isSelection:!0,pagination:!0,rowSelection:{selectedRowKeys:(null===h||void 0===h?void 0:h[B])||[],onChange:function(e,n){t(Object(p.d)({tableId:B,selectedRowKeys:e,selectedRows:n}))}},pageSize:V,onChange:function(e){t(Object(l.s)(e.pageSize))}})})}),Object(k.b)(R,{})]})}},843:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var a=t(6),i=t(60),c=t(83),o=t(133),r=t(134),s={getTableColumns:function(){return[a.constants.stt,i.b.maNV,i.b.hoTen,i.b.ngayVaoLam,i.b.ngayNghiViec,i.b.lyDoNghiViec,i.b.soDienThoai,c.a.ngaySinh,c.a.gioiTinh,o.a.tenBoPhan,r.a.tenChucVu]},getInputFields:function(){return[a.constants.id,i.b.ngayNghiViec,i.b.lyDoNghiViec]}}}}]);